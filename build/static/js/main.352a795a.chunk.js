(this["webpackJsonpecommerce-project"]=this["webpackJsonpecommerce-project"]||[]).push([[0],{19:function(t,e,r){t.exports={product_heading:"Product_product_heading__3ECCw",image:"Product_image__1luwO",productCard:"Product_productCard__1Oe5Y",imageDescContainer:"Product_imageDescContainer__2Gs5R",description:"Product_description__3Gbie",description_heading:"Product_description_heading__3JOuw",description_content:"Product_description_content__1Eqe5",unitPrice:"Product_unitPrice__3UrvX",priceAndQuant:"Product_priceAndQuant__b6OWZ"}},22:function(t,e,r){t.exports={card:"ProductCard_card__wjz_A",imageContainer:"ProductCard_imageContainer__3KP5y",productImage:"ProductCard_productImage__1bs9p",productName:"ProductCard_productName__e6Rnh",titlePriceContainer:"ProductCard_titlePriceContainer__Ig2Ow",priceAndCartUD:"ProductCard_priceAndCartUD__NSItC"}},23:function(t,e,r){t.exports={card:"CartProductCard_card__28m7-",container:"CartProductCard_container__1mnDs",productImage:"CartProductCard_productImage__10onV"}},24:function(t,e,r){t.exports={body:"App_body__2HQGK",navBar:"App_navBar__2dDpv",navBar_link:"App_navBar_link__2RLcX",footer:"App_footer__AWksy"}},25:function(t,e,r){t.exports={cartUpdater:"CartUpdater_cartUpdater__2B3Uo",quantity:"CartUpdater_quantity__2Knts",button:"CartUpdater_button__3AyCT",currentQuant:"CartUpdater_currentQuant__1mb4R"}},31:function(t,e,r){t.exports={display:"Products_display__1Z91m",products:"Products_products__gX2TI",products_heading:"Products_products_heading__2Yfrl"}},32:function(t,e,r){t.exports={cart:"Cart_cart__ByJ8i",cart_heading:"Cart_cart_heading__3wsDo",cartDisplay:"Cart_cartDisplay__2KGo_"}},48:function(t,e,r){},60:function(t,e,r){"use strict";r.r(e);var c=r(4),n=r.n(c),a=r(42),s=r.n(a),i=(r(48),r(24)),u=r.n(i),o=r(18),d=r(10),p=r(8),j=r.n(p),b=r(13),l=r(17),f=r(31),_=r.n(f),O=r(28),h=r(33),m=r(39);m.a.initializeApp({apiKey:"AIzaSyBvkIfqOyHJBh7wiOuAEx_vz2hDdHuCQRo",authDomain:"react-persistence-b64fc.firebaseapp.com",projectId:"react-persistence-b64fc",storageBucket:"react-persistence-b64fc.appspot.com",messagingSenderId:"703782216495",appId:"1:703782216495:web:b7cf871093531d2c5577da"});var x=m.a.firestore(),v=function(){var t=Object(b.a)(j.a.mark((function t(e){var r,c,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=x.collection("products"),c=r.doc(e),t.next=4,c.get();case 4:if((n=t.sent).exists){t.next=7;break}return t.abrupt("return");case 7:return t.abrupt("return",Object(h.a)({id:n.id},n.data()));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(b.a)(j.a.mark((function t(){var e,r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=x.collection("products"),t.next=3,e.get();case 3:return r=t.sent,c=r.docs,t.abrupt("return",c.map((function(t){return Object(h.a)({id:t.id},t.data())})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=Object(b.a)(j.a.mark((function t(e){var r,c,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=x.collection("carts").doc(e),t.next=3,r.get();case 3:return c=t.sent,n=Object(h.a)({id:c.id},c.data()),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(b.a)(j.a.mark((function t(e,r,c){var n,a,s,i,u,o,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(c);case 2:return n=t.sent,a=n.products,s=-1,a.forEach((function(t,r){t.productId===e&&(s=r)})),i=[],-1===s?(u={productId:e,numberOf:r},i=[].concat(Object(O.a)(a),[u])):(i=Object(O.a)(a))[s]={productId:e,numberOf:i[s].numberOf+1},o={products:i},d=x.collection("carts").doc(c),t.next=12,d.update(o);case 12:case"end":return t.stop()}}),t)})));return function(e,r,c){return t.apply(this,arguments)}}(),P=function(){var t=Object(b.a)(j.a.mark((function t(e,r,c){var n,a,s,i,u,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(c);case 2:return n=t.sent,a=n.products,s=-1,a.forEach((function(t,r){t.productId===e&&(s=r)})),i=[],-1===s?(console.log("item not in cart"),i=Object(O.a)(a)):(i=Object(O.a)(a))[s].numberOf>1?i[s]={productId:e,numberOf:i[s].numberOf-1}:i.splice(s,1),u={products:i},o=x.collection("carts").doc(c),t.next=12,o.update(u);case 12:case"end":return t.stop()}}),t)})));return function(e,r,c){return t.apply(this,arguments)}}(),y=r(22),w=r.n(y),I=r(25),k=r.n(I),A=r(2),U=function(t){var e=t.product,r=t.userName,n=t.quantity,a=Object(c.useState)(),s=Object(l.a)(a,2),i=s[0],u=s[1],o=function(){var t=Object(b.a)(j.a.mark((function t(){var c,a,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(r);case 2:c=t.sent,a=c.products,s=0,a.forEach((function(t){t.productId===e.id&&(s=t.numberOf)})),n(s),u(s);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){o()}),[]),Object(A.jsxs)("div",{className:k.a.cartUpdater,children:[Object(A.jsx)("p",{className:k.a.quantity,children:"Quantity"}),Object(A.jsx)("button",{className:k.a.button,onClick:function(t){i>0&&(u(--i),n(i)),P(e.id,1,r)},children:"-"}),Object(A.jsx)("p",{className:k.a.currentQuant,children:i}),Object(A.jsx)("button",{className:k.a.button,onClick:function(t){u(++i),n(i),C(e.id,1,r)},children:"+"})]})},D=U,B=function(t){var e=t.product,r=t.userName;return Object(A.jsxs)("div",{className:w.a.card,children:[Object(A.jsx)("div",{className:w.a.imageContainer,children:Object(A.jsx)(o.b,{to:"/product/".concat(e.id),children:Object(A.jsx)("img",{src:e.imgURL,alt:"",className:w.a.productImage})})}),Object(A.jsx)("div",{className:w.a.productName,children:e.identifier}),Object(A.jsxs)("div",{className:w.a.priceAndCartUD,children:[Object(A.jsxs)("div",{className:w.a.price,children:["Unit price: $",e.unitPrice]}),Object(A.jsx)(U,{product:e,userName:r,quantity:function(){}})]})]})},E="cart1",S=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),r=e[0],n=e[1],a=function(){var t=Object(b.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:e=t.sent,n(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){a()}),[]),Object(A.jsxs)("div",{className:_.a.products,children:[Object(A.jsx)("h2",{className:_.a.products_heading,children:"Third Eye Observatory Astrophotography"}),Object(A.jsx)("div",{className:_.a.display,children:r.map((function(t){return Object(A.jsx)(B,{product:t,userName:E},t.id)}))})]})},q=S,Q=r(32),R=r.n(Q),L=r(23),J=r.n(L),K=function(t){var e=t.product,r=t.userName,n=t.unMount,a=Object(c.useState)(),s=Object(l.a)(a,2),i=s[0],u=s[1],d=function(t){0===t&&n(),u(t)};return Object(c.useEffect)((function(){d(i)}),[]),Object(A.jsx)("div",{className:J.a.card,children:Object(A.jsxs)("div",{className:J.a.container,children:[Object(A.jsx)("div",{children:Object(A.jsx)(o.b,{to:"/product/".concat(e.id),children:Object(A.jsx)("img",{src:e.imgURL,alt:"",className:J.a.productImage})})}),Object(A.jsx)("div",{className:J.a.productName,children:e.identifier}),Object(A.jsxs)("div",{className:J.a.price,children:["Unit Price: $",e.unitPrice]}),Object(A.jsx)("div",{children:Object(A.jsx)(D,{product:e,userName:r,quantity:d},e.id)}),Object(A.jsxs)("div",{className:J.a.totalPrice,children:["Item cumulative price: $",i*e.unitPrice]})]})})},T=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),r=e[0],n=e[1],a=function(){var t=Object(b.a)(j.a.mark((function t(){var e,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(E);case 2:return e=t.sent,t.next=5,e.products;case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(b.a)(j.a.mark((function t(){var e,r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:return e=t.sent,r=e.map((function(t){return v(t.productId)})),t.next=6,Promise.all(r);case 6:c=t.sent,n(c);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){s()}),[]);var i=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:s();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:R.a.cart,children:[Object(A.jsx)("h2",{className:R.a.cart_heading,children:"Cart"}),Object(A.jsx)("div",{className:R.a.cartDisplay,children:r.map((function(t){return Object(A.jsx)(K,{product:t,userName:E,unMount:i},t.id)}))})]})},z=r(19),F=r.n(z),G=function(){var t=Object(d.g)().id,e=Object(c.useState)([]),r=Object(l.a)(e,2),n=r[0],a=r[1],s=function(){var e=Object(b.a)(j.a.mark((function e(){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){s()}),[]);return Object(A.jsx)("div",{className:F.a.productCard,children:n?Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:F.a.imageDescContainer,children:[Object(A.jsx)("img",{src:n.imgURL,alt:"",className:F.a.image}),Object(A.jsxs)("div",{className:F.a.description,children:[Object(A.jsx)("h2",{className:F.a.product_heading,children:n.identifier}),Object(A.jsx)("h5",{className:F.a.description_content,children:n.description}),Object(A.jsxs)("div",{className:F.a.priceAndQuant,children:[Object(A.jsxs)("h2",{className:F.a.unitPrice,children:["$",n.unitPrice]}),Object(A.jsx)(U,{product:n,userName:E,quantity:function(){}},n.id)]})]})]})}):Object(A.jsx)("h2",{children:"Product not found :'("})})};var $=function(){return Object(A.jsx)("div",{className:u.a.body,children:Object(A.jsxs)(o.a,{basename:"/index.html",baseline:"/",children:[Object(A.jsx)("header",{children:Object(A.jsxs)("nav",{className:u.a.navBar,children:[Object(A.jsx)(o.b,{to:"./Products",className:u.a.navBar_link,children:"Products"}),Object(A.jsx)(o.b,{to:"./Cart",className:u.a.navBar_link,children:"Cart"})]})}),Object(A.jsxs)(d.d,{children:[Object(A.jsx)(d.b,{exact:!0,path:"/",children:Object(A.jsx)(d.a,{to:"/Products"})}),Object(A.jsx)(d.b,{exact:!0,path:"/product/products",children:Object(A.jsx)(d.a,{to:"/Products"})}),Object(A.jsx)(d.b,{exact:!0,path:"/product/cart",children:Object(A.jsx)(d.a,{to:"/Cart"})}),Object(A.jsx)(d.b,{exact:!0,path:"/Products",children:Object(A.jsx)(q,{})}),Object(A.jsx)(d.b,{exact:!0,path:"/cart",children:Object(A.jsx)(T,{})}),Object(A.jsx)(d.b,{path:"/product/:id",children:Object(A.jsx)(G,{})})]}),Object(A.jsx)("footer",{className:u.a.footer,children:Object(A.jsx)("p",{children:"Copyright 2021"})})]})})},H=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,61)).then((function(e){var r=e.getCLS,c=e.getFID,n=e.getFCP,a=e.getLCP,s=e.getTTFB;r(t),c(t),n(t),a(t),s(t)}))};s.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)($,{})}),document.getElementById("root")),H()}},[[60,1,2]]]);
//# sourceMappingURL=main.352a795a.chunk.js.map